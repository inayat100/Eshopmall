{% extends 'base.html' %}
{% load static %}
{% block title %}Index{% endblock title %}



{% block body %}
<div class="container s-div position-relative">
  <form action="{% url 'search' %}" method="get" class="d-flex my-2">
      <input class="form-control search p-5" type="search" placeholder="Search Here" aria-label="Search" name="search">
      <button class="btn position-absolute" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
  </form>
</div>

<div class="container">
  <form action="" method="post">
    {% csrf_token %}
  <select class="form-select" aria-label="Default select example" name="filter">
    <option selected>Choice any prices filter</option>
    <option value="1">less then 500</option>
    <option value="2">500 - 1000 </option>
    <option value="3">1000 - 2000 </option>
    <option value="4">2000 - 3000 </option>
  </select>
  <div class="d-grid gap-2 col-6 mx-auto">
    <button class="btn btn-outline-primary" type="submit">Apply Filter</button>
  </div>
</form>
</div>

<div class="d-flex flex-wrap justify-content-evenly">
{% if allp %}
 {% for p in allp %}

<div class="card mt-3"  >
  <a href="/full/?title={{p.ptitle}}" >
 <img src="{{p.pimage.url}}" class="card-img-top" alt="...">
 <div class="card-body">
  <h2 class="m-2 bg-price"> <span><i class="fa-solid fa-rupee-sign"></i></span>{{p.pprice}}</h2>
   <p class="card-text">{{p.ptitle|truncatechars:50}}</p>
 </div>
</a>
</div>

{% endfor %}
{% else %}
<h2>try something diffrent</h2>
{% endif %}
 </div>



{% endblock body %}
